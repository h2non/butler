{"version":3,"sources":["butler.js"],"names":["e","exports","module","define","amd","f","window","global","self","butler","t","n","r","s","o","u","a","require","i","Error","code","l","call","length",1,"store","service","merge","hasServiceWorker","navigator","url","options","resolveServiceWorker","VERSION","workerPath","isControllable","isEnabled","serviceWorker","controller","stop","unregister","cleanAll","flush","entries","all","path","./service","./store","./utils",2,"serviceInstance","serviceWorkerInstance","serviceFactory","Service","this","getServiceWorker","prototype","append","id","config","sendWorkerMessage","topic","remove","Promise","resolve","data","reject","then","registration","client","getServiceWorkerClient","postMessage","catch","bind","installing","active","register","scope","getScriptScope","test","location","origin","URL","pathname","split","slice","join",3,"buf","push","item","get","splice","indexOf","isString","map","mock",4,"target","origins","Array","arguments","forEach","prop","uuid","random","Math","toString"],"mappings":"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"}